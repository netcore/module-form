!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([,,function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n.n(o);new Vue({el:"#formApp",components:{"form-field":n(6),draggable:i.a},data:{languages:JSON.parse($("#languages").val()),formFields:Object.values(JSON.parse($("#currentFields").val())),availableFields:[{name:"Text",type:"text"},{name:"Textarea",type:"textarea"},{name:"Select",type:"select"},{name:"Checkbox",type:"checkbox"},{name:"File",type:"file"},{name:"Email",type:"email"},{name:"Number",type:"number"}]},mounted:function(){this.$on("remove-field",function(e){this.removeField(e)}.bind(this))},methods:{addField:function(e){var t={};$.each(this.languages,function(e,n){t[n.iso_code]={name:"Unnamed field"}}),this.formFields.push({id:this.getNextId(this.formFields,"id"),type:e.type,type_name:e.name,translations:t,order:this.getNextId(this.formFields,"order")})},removeField:function(e){var t=this.findIndex("id",e.id);-1!==t&&this.formFields.splice(t,1)},updateOrder:function(e){this.formFields[e.newIndex].order=e.newIndex+1,this.formFields[e.oldIndex].order=e.oldIndex+1},findIndex:function(e,t){var n=-1;return this.formFields.some(function(o,i){if(o[e]===t)return n=i,!0}),n},getNextId:function(e,t){var n=e.map(function(e){return e[t]}),o=Math.max.apply(null,n);return o!==-1/0?o+1:1}}})},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(){function t(e){function t(e){e.parentElement.removeChild(e)}function n(e,t,n){var o=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function a(e,t){var n=this;this.$nextTick(function(){return n.$emit(e.toLowerCase(),t)})}var r=["Start","Add","Remove","Update","End"],s=["Choose","Sort","Filter","Clone"],l=["Move"].concat(r,s).map(function(e){return"on"+e}),d=null;return{name:"draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(e){var t=this.$slots.default;if(t&&1===t.length){var n=t[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var o=t,a=this.$slots.footer;a&&(o=t?[].concat(i(t),i(a)):[].concat(i(a)));var r=null,s=function(e,t){r=function(e,t,n){return void 0==n?e:((e=null==e?{}:e)[t]=n,e)}(r,e,t)};if(s("attrs",this.$attrs),this.componentData){var l=this.componentData,d=l.on,c=l.props;s("on",d),s("props",c)}return e(this.element,r,o)},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var n={};r.forEach(function(e){n["on"+e]=function(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),a.call(t,e,n)}}.call(t,e)}),s.forEach(function(e){n["on"+e]=a.bind(t,e)});var i=o({},this.options,n,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in i)&&(i.draggable=">*"),this._sortable=new e(this.rootContainer,i),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){for(var t in e)-1==l.indexOf(t)&&this._sortable.option(t,e[t])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,n){if(!e)return[];var o=e.map(function(e){return e.elm}),a=[].concat(i(t)).map(function(e){return o.indexOf(e)});return n?a.filter(function(e){return-1!==e}):a}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode)})},getUnderlyingVm:function(e){var t=function(e,t){return e.map(function(e){return e.elm}).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&"transition-group"===t.$options._componentTag?t.$parent:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=[].concat(i(this.value));e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,e)};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,i=this.getUnderlyingPotencialDraggableComponent(t);if(!i)return{component:i};var a=i.realList,r={list:a,component:i};if(t!==n&&a&&i.getUnderlyingVm){var s=i.getUnderlyingVm(n);if(s)return o(s,r)}return r},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),d=e.item},onDragAdd:function(e){var n=e.item._underlying_vm_;if(void 0!==n){t(e.item);var o=this.getVmIndex(e.newIndex);this.spliceList(o,0,n),this.computeIndexes();var i={element:n,newIndex:o};this.emitChanges({added:i})}},onDragRemove:function(e){if(n(this.rootContainer,e.item,e.oldIndex),this.isCloning)t(e.clone);else{var o=this.context.index;this.spliceList(o,1);var i={element:this.context.element,oldIndex:o};this.resetTransitionData(o),this.emitChanges({removed:i})}},onDragUpdate:function(e){t(e.item),n(e.from,e.item,e.oldIndex);var o=this.context.index,i=this.getVmIndex(e.newIndex);this.updatePosition(o,i);var a={element:this.context.element,oldIndex:o,newIndex:i};this.emitChanges({moved:a})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=[].concat(i(t.to.children)).filter(function(e){return"none"!==e.style.display}),o=n.indexOf(t.related),a=e.component.getVmIndex(o);return-1!=n.indexOf(d)||!t.willInsertAfter?a:a+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var i=this.getRelatedContextFromMoveEvent(e),a=this.context,r=this.computeFutureIndex(i,e);return o(a,{futureIndex:r}),o(e,{relatedContext:i,draggedContext:a}),n(e,t)},onDragEnd:function(e){this.computeIndexes(),d=null}}}}Array.from||(Array.from=function(e){return[].slice.call(e)});var a=n(5);e.exports=t(a)}()},function(e,t,n){var o,i;!function(a){"use strict";void 0===(i="function"==typeof(o=a)?o.call(t,n,t,e):o)||(e.exports=i)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,o,i,a,r,s,l,d,c,u,p,h,f,m,v,g,_,b,y,x={},C=/\s+/g,D=/left|right|inline/,w="Sortable"+(new Date).getTime(),S=window,T=S.document,E=S.parseInt,k=S.setTimeout,O=S.jQuery||S.Zepto,I=S.Polymer,N=!1,P="draggable"in T.createElement("div"),F=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((y=T.createElement("x")).style.cssText="pointer-events:auto","auto"===y.style.pointerEvents),$=!1,M=Math.abs,A=Math.min,R=[],L=[],B=oe(function(e,t,n){if(n&&t.scroll){var o,i,a,r,c,u,p=n[w],h=t.scrollSensitivity,f=t.scrollSpeed,m=e.clientX,v=e.clientY,g=window.innerWidth,_=window.innerHeight;if(l!==n&&(s=t.scroll,l=n,d=t.scrollFn,!0===s)){s=n;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight)break}while(s=s.parentNode)}s&&(o=s,i=s.getBoundingClientRect(),a=(M(i.right-m)<=h)-(M(i.left-m)<=h),r=(M(i.bottom-v)<=h)-(M(i.top-v)<=h)),a||r||(r=(_-v<=h)-(v<=h),((a=(g-m<=h)-(m<=h))||r)&&(o=S)),x.vx===a&&x.vy===r&&x.el===o||(x.el=o,x.vx=a,x.vy=r,clearInterval(x.pid),o&&(x.pid=setInterval(function(){if(u=r?r*f:0,c=a?a*f:0,"function"==typeof d)return d.call(p,c,u,e);o===S?S.scrollTo(S.pageXOffset+c,S.pageYOffset+u):(o.scrollTop+=u,o.scrollLeft+=c)},24)))}},30),U=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=n.name),"function"==typeof e?e:function(n,o){var i=o.options.group.name;return t?e:e&&(e.join?e.indexOf(i)>-1:i==e)}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){N={capture:!1,passive:!1}}}))}catch(e){}function X(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ie({},t),e[w]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==X.supportPointer};for(var o in n)!(o in t)&&(t[o]=n[o]);for(var i in U(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&P,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),t.supportPointer&&q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),L.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function Y(t,n){"clone"!==t.lastPullMode&&(n=!0),o&&o.state!==n&&(J(o,"display",n?"none":""),n||o.state&&(t.options.group.revertClone?(i.insertBefore(o,a),t._animate(e,o)):i.insertBefore(o,e)),o.state=n)}function j(e,t,n){if(e){n=n||T;do{if(">*"===t&&e.parentNode===n||ne(e,t))return e}while(e=V(e))}return null}function V(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function q(e,t,n){e.addEventListener(t,n,N)}function H(e,t,n){e.removeEventListener(t,n,N)}function W(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(C," ")}}function J(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return T.defaultView&&T.defaultView.getComputedStyle?n=T.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function z(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,a=o.length;if(n)for(;i<a;i++)n(o[i],i);return o}return[]}function G(e,t,n,i,a,r,s,l){e=e||t[w];var d=T.createEvent("Event"),c=e.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);d.initEvent(n,!0,!0),d.to=a||t,d.from=r||t,d.item=i||t,d.clone=o,d.oldIndex=s,d.newIndex=l,t.dispatchEvent(d),c[u]&&c[u].call(e,d)}function K(e,t,n,o,i,a,r,s){var l,d,c=e[w],u=c.options.onMove;return(l=T.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=i||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),u&&(d=u.call(c,l,r)),d}function Q(e){e.draggable=!1}function Z(){$=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function te(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ne(e,t)||n++;return n}function ne(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(o)||[]).length!=t.length)}return!1}function oe(e,t){var n,o;return function(){void 0===n&&(n=arguments,o=this,k(function(){1===n.length?e.call(o,n[0]):e.apply(o,n),n=void 0},t))}}function ie(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ae(e){return I&&I.dom?I.dom(e).cloneNode(!0):O?O(e).clone(!0)[0]:e.cloneNode(!0)}function re(e){return k(e,0)}function se(e){return clearTimeout(e)}return X.prototype={constructor:X,_onTapStart:function(t){var n,o=this,i=this.el,a=this.options,s=a.preventOnFilter,l=t.type,d=t.touches&&t.touches[0],c=(d||t).target,u=t.target.shadowRoot&&t.path&&t.path[0]||c,p=a.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&R.push(o)}}(i),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||a.disabled)&&!u.isContentEditable&&(c=j(c,a.draggable,i))&&r!==c){if(n=te(c,a.draggable),"function"==typeof p){if(p.call(this,t,c,this))return G(o,u,"filter",c,i,i,n),void(s&&t.preventDefault())}else if(p&&(p=p.split(",").some(function(e){if(e=j(u,e.trim(),i))return G(o,e,"filter",c,i,i,n),!0})))return void(s&&t.preventDefault());a.handle&&!j(u,a.handle,i)||this._prepareDragStart(t,d,c,n)}},_prepareDragStart:function(n,o,s,l){var d,c=this,u=c.el,p=c.options,f=u.ownerDocument;s&&!e&&s.parentNode===u&&(g=n,i=u,t=(e=s).parentNode,a=e.nextSibling,r=s,m=p.group,h=l,this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,e.style["will-change"]="all",d=function(){c._disableDelayedDrag(),e.draggable=c.nativeDraggable,W(e,p.chosenClass,!0),c._triggerDragStart(n,o),G(c,i,"choose",e,i,i,h)},p.ignore.split(",").forEach(function(t){z(e,t.trim(),Q)}),q(f,"mouseup",c._onDrop),q(f,"touchend",c._onDrop),q(f,"touchcancel",c._onDrop),q(f,"selectstart",c),p.supportPointer&&q(f,"pointercancel",c._onDrop),p.delay?(q(f,"mouseup",c._disableDelayedDrag),q(f,"touchend",c._disableDelayedDrag),q(f,"touchcancel",c._disableDelayedDrag),q(f,"mousemove",c._disableDelayedDrag),q(f,"touchmove",c._disableDelayedDrag),p.supportPointer&&q(f,"pointermove",c._disableDelayedDrag),c._dragStartTimer=k(d,p.delay)):d())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),H(e,"mouseup",this._disableDelayedDrag),H(e,"touchend",this._disableDelayedDrag),H(e,"touchcancel",this._disableDelayedDrag),H(e,"mousemove",this._disableDelayedDrag),H(e,"touchmove",this._disableDelayedDrag),H(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,n){(n=n||("touch"==t.pointerType?t:null))?(g={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(g,"touch")):this.nativeDraggable?(q(e,"dragend",this),q(i,"dragstart",this._onDragStart)):this._onDragStart(g,!0);try{T.selection?re(function(){T.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(i&&e){var t=this.options;W(e,t.ghostClass,!0),W(e,t.dragClass,!1),X.active=this,G(this,i,"start",e,i,i,h)}else this._nulling()},_emulateDragOver:function(){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY)return;this._lastX=_.clientX,this._lastY=_.clientY,F||J(n,"display","none");var e=T.elementFromPoint(_.clientX,_.clientY),t=e,o=L.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(_.clientX,_.clientY)),t)do{if(t[w]){for(;o--;)L[o]({clientX:_.clientX,clientY:_.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);F||J(n,"display","")}},_onTouchMove:function(e){if(g){var t=this.options,o=t.fallbackTolerance,i=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=a.clientX-g.clientX+i.x,s=a.clientY-g.clientY+i.y,l=e.touches?"translate3d("+r+"px,"+s+"px,0)":"translate("+r+"px,"+s+"px)";if(!X.active){if(o&&A(M(a.clientX-this._lastX),M(a.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),b=!0,_=a,J(n,"webkitTransform",l),J(n,"mozTransform",l),J(n,"msTransform",l),J(n,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!n){var t,o=e.getBoundingClientRect(),a=J(e),r=this.options;W(n=e.cloneNode(!0),r.ghostClass,!1),W(n,r.fallbackClass,!0),W(n,r.dragClass,!0),J(n,"top",o.top-E(a.marginTop,10)),J(n,"left",o.left-E(a.marginLeft,10)),J(n,"width",o.width),J(n,"height",o.height),J(n,"opacity","0.8"),J(n,"position","fixed"),J(n,"zIndex","100000"),J(n,"pointerEvents","none"),r.fallbackOnBody&&T.body.appendChild(n)||i.appendChild(n),t=n.getBoundingClientRect(),J(n,"width",2*o.width-t.width),J(n,"height",2*o.height-t.height)}},_onDragStart:function(t,n){var a=this,r=t.dataTransfer,s=a.options;a._offUpEvents(),m.checkPull(a,a,e,t)&&((o=ae(e)).draggable=!1,o.style["will-change"]="",J(o,"display","none"),W(o,a.options.chosenClass,!1),a._cloneId=re(function(){i.insertBefore(o,e),G(a,i,"clone",e)})),W(e,s.dragClass,!0),n?("touch"===n?(q(T,"touchmove",a._onTouchMove),q(T,"touchend",a._onDrop),q(T,"touchcancel",a._onDrop),s.supportPointer&&(q(T,"pointermove",a._onTouchMove),q(T,"pointerup",a._onDrop))):(q(T,"mousemove",a._onTouchMove),q(T,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(r&&(r.effectAllowed="move",s.setData&&s.setData.call(a,r,e)),q(T,"drop",a),a._dragStartId=re(a._dragStarted))},_onDragOver:function(r){var s,l,d,h,f=this.el,g=this.options,_=g.group,y=X.active,x=m===_,C=!1,S=g.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!g.dragoverBubble&&r.stopPropagation()),!e.animated&&(b=!0,y&&!g.disabled&&(x?S||(h=!i.contains(e)):v===this||(y.lastPullMode=m.checkPull(this,y,e,r))&&_.checkPut(this,y,e,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(B(r,g,this.el),$)return;if(s=j(r.target,g.draggable,f),l=e.getBoundingClientRect(),v!==this&&(v=this,C=!0),h)return Y(y,!0),t=i,void(o||a?i.insertBefore(e,o||a):S||i.appendChild(e));if(0===f.children.length||f.children[0]===n||f===r.target&&function(e,t){var n=e.lastElementChild.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}(f,r)){if(0!==f.children.length&&f.children[0]!==n&&f===r.target&&(s=f.lastElementChild),s){if(s.animated)return;d=s.getBoundingClientRect()}Y(y,x),!1!==K(i,f,e,l,s,d,r)&&(e.contains(f)||(f.appendChild(e),t=f),this._animate(l,e),s&&this._animate(d,s))}else if(s&&!s.animated&&s!==e&&void 0!==s.parentNode[w]){c!==s&&(c=s,u=J(s),p=J(s.parentNode));var T=(d=s.getBoundingClientRect()).right-d.left,E=d.bottom-d.top,O=D.test(u.cssFloat+u.display)||"flex"==p.display&&0===p["flex-direction"].indexOf("row"),I=s.offsetWidth>e.offsetWidth,N=s.offsetHeight>e.offsetHeight,P=(O?(r.clientX-d.left)/T:(r.clientY-d.top)/E)>.5,F=s.nextElementSibling,M=!1;if(O){var A=e.offsetTop,R=s.offsetTop;M=A===R?s.previousElementSibling===e&&!I||P&&I:s.previousElementSibling===e||e.previousElementSibling===s?(r.clientY-d.top)/E>.5:R>A}else C||(M=F!==e&&!N||P&&N);var L=K(i,f,e,l,s,d,r,M);!1!==L&&(1!==L&&-1!==L||(M=1===L),$=!0,k(Z,30),Y(y,x),e.contains(f)||(M&&!F?f.appendChild(e):s.parentNode.insertBefore(e,M?F:s)),t=e.parentNode,this._animate(l,e),this._animate(d,s))}}},_animate:function(e,t){var n=this.options.animation;if(n){var o=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),J(t,"transition","none"),J(t,"transform","translate3d("+(e.left-o.left)+"px,"+(e.top-o.top)+"px,0)"),t.offsetWidth,J(t,"transition","all "+n+"ms"),J(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=k(function(){J(t,"transition",""),J(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;H(T,"touchmove",this._onTouchMove),H(T,"pointermove",this._onTouchMove),H(e,"mouseup",this._onDrop),H(e,"touchend",this._onDrop),H(e,"pointerup",this._onDrop),H(e,"touchcancel",this._onDrop),H(e,"pointercancel",this._onDrop),H(e,"selectstart",this)},_onDrop:function(r){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(x.pid),clearTimeout(this._dragStartTimer),se(this._cloneId),se(this._dragStartId),H(T,"mouseover",this),H(T,"mousemove",this._onTouchMove),this.nativeDraggable&&(H(T,"drop",this),H(s,"dragstart",this._onDragStart)),this._offUpEvents(),r&&(b&&(r.preventDefault(),!l.dropBubble&&r.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),i!==t&&"clone"===X.active.lastPullMode||o&&o.parentNode&&o.parentNode.removeChild(o),e&&(this.nativeDraggable&&H(e,"dragend",this),Q(e),e.style["will-change"]="",W(e,this.options.ghostClass,!1),W(e,this.options.chosenClass,!1),G(this,i,"unchoose",e,t,i,h),i!==t?(f=te(e,l.draggable))>=0&&(G(null,t,"add",e,t,i,h,f),G(this,i,"remove",e,t,i,h,f),G(null,t,"sort",e,t,i,h,f),G(this,i,"sort",e,t,i,h,f)):e.nextSibling!==a&&(f=te(e,l.draggable))>=0&&(G(this,i,"update",e,t,i,h,f),G(this,i,"sort",e,t,i,h,f)),X.active&&(null!=f&&-1!==f||(f=h),G(this,i,"end",e,t,i,h,f),this.save()))),this._nulling()},_nulling:function(){i=e=t=n=a=o=r=s=l=g=_=b=f=c=u=v=m=X.active=null,R.forEach(function(e){e.checked=!0}),R.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,a=this.options;o<i;o++)j(e=n[o],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||ee(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,o){var i=n.children[o];j(i,this.options.draggable,n)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return j(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&U(n)},destroy:function(){var e=this.el;e[w]=null,H(e,"mousedown",this._onTapStart),H(e,"touchstart",this._onTapStart),H(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(e,"dragover",this),H(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),L.splice(L.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},q(T,"touchmove",function(e){X.active&&e.preventDefault()}),X.utils={on:q,off:H,css:J,find:z,is:function(e,t){return!!j(e,t,e)},extend:ie,throttle:oe,closest:j,toggleClass:W,clone:ae,index:te,nextTick:re,cancelNextTick:se},X.create=function(e,t){return new X(e,t)},X.version="1.7.0",X})},function(e,t,n){var o=n(7)(n(8),n(9),!1,null,null,null);e.exports=o.exports},function(e,t){e.exports=function(e,t,n,o,i,a){var r,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,s=e.default);var d,c="function"==typeof s?s.options:s;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=d):o&&(d=o),d){var u=c.functional,p=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(e,t){return d.call(t),p(e,t)}):c.beforeCreate=p?[].concat(p,d):[d]}return{esModule:r,exports:s,options:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={components:{select2:window.Select2},props:{data:Object,languages:Array},data:function(){return{htmlAttributes:[{id:"required",text:"Required"},{id:"disabled",text:"Disabled"}],validationRules:[{id:"accepted",text:"Accepted"},{id:"email",text:"Email"},{id:"file",text:"File"},{id:"image",text:"Image"},{id:"required",text:"Required"},{id:"unique",text:"Unique"},{id:"numeric",text:"Numeric"},{id:"url",text:"URL"}],attributes:this.data.meta?this.data.meta.attributes:[],options:[],validation:this.data.meta?this.data.meta.validation:[]}},mounted:function(){this.setOptions()},computed:{model:function(){var e=JSON.parse(JSON.stringify(this.data));return $.each(this.languages,function(t,n){var o=n.iso_code,i=e.translations[o],a=i?i.label:"",r=i?i.name:"",s=i?i.placeholder:"";e.translations[o]={label:a,name:r,placeholder:s}}),e}},methods:{addOption:function(){this.options.push({key:"",value:""})},removeOption:function(e){Vue.delete(this.options,e)},remove:function(e){this.$emit("remove-field",e)},setOptions:function(){var e=this.data.meta?this.data.meta.options:[],t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({key:n,value:e[n]});this.options=t}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading",attrs:{role:"tab",id:"heading-"+e.model.id}},[n("h4",{staticClass:"panel-title"},[e._m(0),e._v(" "),n("a",{attrs:{role:"button","data-toggle":"collapse","data-parent":"#accordion",href:"#collapse-"+e.model.id,"aria-expanded":"true","aria-controls":"collapse-"+e.model.id}},e._l(e.model.translations,function(t,o){return n("div",{staticClass:"pull-left m-l-5"},[e._v("\n                        "+e._s(o.toUpperCase())+": "+e._s(t.name)+"\n                    ")])})),e._v(" "),n("div",{staticClass:"pull-right"},[e._v("\n                    "+e._s(e.model.type_name)+"\n                ")])])]),e._v(" "),n("div",{staticClass:"panel-collapse collapse",attrs:{id:"collapse-"+e.model.id,role:"tabpanel","aria-labelledby":"heading-"+e.model.id}},[n("div",{staticClass:"panel-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.id,expression:"model.id"}],attrs:{type:"hidden",name:"fields["+e.model.id+"][id]"},domProps:{value:e.model.id,value:e.model.id},on:{input:function(t){t.target.composing||e.$set(e.model,"id",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.order,expression:"model.order"}],attrs:{type:"hidden",name:"fields["+e.model.id+"][order]"},domProps:{value:e.model.order,value:e.model.order},on:{input:function(t){t.target.composing||e.$set(e.model,"order",t.target.value)}}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"fields["+e.model.id+"][type]"},domProps:{value:e.model.type}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"fields["+e.model.id+"][type_name]"},domProps:{value:e.model.type_name}}),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("Key")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.data.key,expression:"data.key"}],staticClass:"form-control",attrs:{name:"fields["+e.model.id+"][key]",placeholder:"For example, phone_number"},domProps:{value:e.data.key},on:{input:function(t){t.target.composing||e.$set(e.data,"key",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("Show label?")]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.data.show_label,expression:"data.show_label"}],attrs:{type:"checkbox",name:"fields["+e.model.id+"][show_label]"},domProps:{checked:e.data.show_label,checked:Array.isArray(e.data.show_label)?e._i(e.data.show_label,null)>-1:e.data.show_label},on:{change:function(t){var n=e.data.show_label,o=t.target,i=!!o.checked;if(Array.isArray(n)){var a=e._i(n,null);o.checked?a<0&&(e.data.show_label=n.concat([null])):a>-1&&(e.data.show_label=n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.data,"show_label",i)}}})]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-6"},[n("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},e._l(e.languages,function(t,o){return n("li",{class:{active:0===o},attrs:{role:"presentation"}},[n("a",{attrs:{href:"#fields-"+e.model.id+"-"+t.iso_code,"aria-controls":t.iso_code,role:"tab","data-toggle":"tab"}},[e._v("\n                                    "+e._s(t.title_localized)+"\n                                ")])])})),e._v(" "),n("div",{staticClass:"tab-content"},e._l(e.languages,function(t,o){return n("div",{staticClass:"tab-pane",class:{active:0===o},attrs:{role:"tabpanel",id:"fields-"+e.model.id+"-"+t.iso_code}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"form-group"},[n("label",{domProps:{textContent:e._s("Label "+t.iso_code.toUpperCase())}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.translations[String(t.iso_code)].label,expression:"model.translations[String(language.iso_code)].label"}],staticClass:"form-control",attrs:{name:"fields["+e.model.id+"][translations]["+t.iso_code+"][label]",placeholder:"For example, Phone number"},domProps:{value:e.model.translations[String(t.iso_code)].label},on:{input:function(n){n.target.composing||e.$set(e.model.translations[String(t.iso_code)],"label",n.target.value)}}})])]),e._v(" "),n("div",{staticClass:"col-lg-6"},[n("div",{staticClass:"form-group"},[n("label",{domProps:{textContent:e._s("Placeholder "+t.iso_code.toUpperCase())}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model.translations[String(t.iso_code)].placeholder,expression:"model.translations[String(language.iso_code)].placeholder"}],staticClass:"form-control",attrs:{name:"fields["+e.model.id+"][translations]["+t.iso_code+"][placeholder]",placeholder:"For example, Enter phone number"},domProps:{value:e.model.translations[String(t.iso_code)].placeholder},on:{input:function(n){n.target.composing||e.$set(e.model.translations[String(t.iso_code)],"placeholder",n.target.value)}}})])])])])}))])]),e._v(" "),"select"===e.model.type?n("div",{staticClass:"form-group"},[n("label",[e._v("Options")]),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"btn btn-success btn-xs",attrs:{type:"button"},on:{click:function(t){e.addOption()}}},[n("i",{staticClass:"fa fa-plus"}),e._v(" Add Field\n                    ")]),e._v(" "),n("br"),e._v(" "),e._l(e.options,function(t,o){return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"option.key"}],staticClass:"form-control",attrs:{type:"text",name:"fields["+e.model.id+"][options][key][]"},domProps:{value:t.value,value:t.key},on:{input:function(n){n.target.composing||e.$set(t,"key",n.target.value)}}}),e._v(" "),n("span",{staticClass:"input-group-addon"},[e._v("-")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"option.value"}],staticClass:"form-control",attrs:{type:"text",name:"fields["+e.model.id+"][options][value][]"},domProps:{value:t.text,value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),e._v(" "),n("span",{staticClass:"input-group-addon"},[n("button",{staticClass:"btn btn-danger btn-xs",attrs:{type:"button"},on:{click:function(t){e.removeOption(o)}}},[e._v("Delete")])])])})],2):e._e(),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("Attributes")]),e._v(" "),n("select2",{attrs:{data:e.htmlAttributes,name:"fields["+e.model.id+"][attributes][]",placeholder:"Please select",multiple:!0},model:{value:e.attributes,callback:function(t){e.attributes=t},expression:"attributes"}})],1),e._v(" "),n("div",{staticClass:"form-group"},[n("label",[e._v("Validation rules")]),e._v(" "),n("select2",{attrs:{data:e.validationRules,name:"fields["+e.model.id+"][validation][]",placeholder:"Please select",multiple:!0},model:{value:e.validation,callback:function(t){e.validation=t},expression:"validation"}})],1),e._v(" "),n("a",{staticClass:"btn btn-xs btn-danger pull-right",attrs:{href:"javascript:;"},on:{click:function(t){e.remove(e.model)}}},[n("i",{staticClass:"fa fa-trash"}),e._v(" Remove\n                ")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pull-left handle"},[t("i",{staticClass:"fa fa-arrows"})])}]}}]);